# WePlay 開発TODO

## Phase 1: 初期セットアップ（完了）
- [x] プロジェクト構造設計（monorepo）
- [x] TypeScript設定（frontend, backend, shared）
- [x] ESLint + Prettier設定
- [x] 基本的なディレクトリ構造作成

## Phase 2: バックエンド基盤（完了）
- [x] Express.jsサーバー構築
- [x] MongoDB接続設定
- [x] 認証システム（JWT）実装
- [x] ファイルアップロード機能（AWS S3）
- [x] 基本的なAPIエンドポイント
- [x] Socket.io基本設定

## Phase 3: フロントエンド基盤（完了）
- [x] Next.js基本設定
- [x] Tailwind CSS設定
- [x] 基本的なページ作成
- [x] レスポンシブデザイン実装

## Phase 4: リファクタリング（完了）
- [x] 共通UIコンポーネント作成
  - [x] Header, Layout, Button コンポーネント
  - [x] Input, ErrorMessage コンポーネント
- [x] 型定義の統一
  - [x] sharedの型定義活用
  - [x] フロントエンド固有の型定義
- [x] APIクライアント設定
  - [x] 統一的なAPIリクエスト処理
  - [x] トークン管理機能
- [x] 状態管理の導入（Zustand）
  - [x] 認証ストア
  - [x] ゲーム管理ストア
- [x] バックエンドレスポンス統一
  - [x] 共通レスポンス形式
  - [x] エラーハンドリング統一
- [x] バリデーション統一
  - [x] express-validator活用
  - [x] 共通バリデーションルール
- [x] 既存ページのリファクタリング
  - [x] ログインページ
  - [x] 試合一覧ページ
  - [x] 試合作成ページ

## Phase 5: コア機能実装（進行中）
### 5.1 認証システム完成
- [ ] 認証状態の永続化
- [ ] パスワードリセット機能
- [ ] プロフィール管理ページ
- [ ] ログアウト機能

### 5.2 試合管理機能
- [ ] 試合詳細ページ
- [ ] スコアボード画面
- [ ] リアルタイムスコア更新機能
- [ ] 試合状態管理（待機中、進行中、終了）

### 5.3 リアルタイム機能
- [ ] Socket.io統合
- [ ] リアルタイムスコア同期
- [ ] 試合状況の即座反映
- [ ] 接続者数表示

### 5.4 投稿機能
- [ ] 投稿作成・表示
- [ ] 画像・動画投稿
- [ ] 応援メッセージ機能
- [ ] 投稿の削除・編集

## Phase 6: 追加機能（計画中）
### 6.1 試合統計
- [ ] 試合記録の保存
- [ ] 統計情報の表示
- [ ] 過去試合の振り返り

### 6.2 チーム管理
- [ ] チーム作成・編集
- [ ] 選手名簿管理
- [ ] チーム統計

### 6.3 通知機能
- [ ] 試合開始通知
- [ ] スコア更新通知
- [ ] 重要な場面での通知

### 6.4 PWA機能
- [ ] Service Worker実装
- [ ] オフライン対応
- [ ] プッシュ通知
- [ ] インストール可能なアプリ

### 6.5 共有機能
- [ ] 試合共有URL
- [ ] QRコード生成
- [ ] SNS共有機能
- [ ] 試合結果の共有

## Phase 7: 最適化・デプロイ
- [ ] パフォーマンス最適化
- [ ] SEO対策
- [ ] Vercelデプロイ設定
- [ ] Railwayデプロイ設定
- [ ] 環境変数設定
- [ ] CI/CD設定

## Phase 8: テスト・品質保証
- [ ] ユニットテスト
- [ ] 統合テスト
- [ ] E2Eテスト
- [ ] パフォーマンステスト
- [ ] セキュリティテスト

## 未解決の課題
- [ ] 大量のリアルタイム接続でのパフォーマンス
- [ ] 試合中の接続障害対応
- [ ] スコアの矛盾処理
- [ ] 不正アクセス対策
- [ ] 大容量メディアファイルの処理

## 技術的改善点
- [ ] エラーバウンダリーの実装
- [ ] 楽観的更新（Optimistic Updates）
- [ ] データキャッシュ戦略
- [ ] 画像最適化
- [ ] バンドルサイズの最適化

## 次の実装優先度
1. **認証システムの完成** - ユーザー管理の基盤
2. **試合詳細ページ** - コア機能の実装
3. **リアルタイム機能** - WePlayの主要価値
4. **投稿機能** - ユーザーエンゲージメント
5. **PWA機能** - モバイル体験の向上 